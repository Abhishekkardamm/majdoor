<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
    
    <link rel="stylesheet" href="/css/customer.css">
    <!-- icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css"> -->
   <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery-js/1.4.0/css/lightgallery.min.css"> -->

    <title>Customer Dasboard</title>
</head>
<body>
           <!-- <%-include('../partials/admin/header.ejs')%> -->
           <!-- <div class="container">

            <div class="row">
                <%record.forEach((result)=>{%>
                    <div class="card" style="width: 18rem;">
                    <img style="width:80px; height:80px ;border-radius:50%" src="/upload/<%=result.img%>" class="card-img-top" alt="...">
                    <div class="card-body">
                      <h5 class="card-title"><%=result.firstName%> <%=result.LastName%></h5>
                      <p class="card-text"><%=result.desc%></p>
                      <a href="/contactdetails/<%=result.id%>" class="btn btn-primary">Contacts Details</a>
                      
                    </div>
                  </div>
                

               <% })%>
                
                
            </div>
           </div>     -->


           <header>
            <h1>MAJDOOR</h1>
            <div class="profile">
                <a href="/customerdetails"><i class="fas fa-user-alt"></i></a>
                <i class="fa fa-sign-out" aria-hidden="true"></i>
            </div>
    
        </header>
    
        <div class="main">
            <div class="customer_name">
                <h3>Welcome <%=username%></h3>
                
            </div>
            <div class="search-form">
        
                <div class="searchform_input">
                    <!-- <input type="text" id="serviceInput" placeholder="Search for services">
                    <select name="stype" id="">
                        <option value="cp">Carpenter</option>
                        <option value="pp">Painter</option>
                        <option value="p">Plumber</option>
                        <option value="ec">Electrician</option>
                        <option value="m">Mason</option>
                        <option value="cp">Carpenter</option>

                    </select>
                    <input type="text" id="locationInput" placeholder="Enter location">
                    <input type="date" id="booking-date" > -->

                    <form action="" method="post">
                        <input type="text" name="skills" id="">
                        <a href="/availablemajdoor"><button type="submit">Search</button></a>
                        

                    </form>
                    <a href="/availablemajdoor"><button type="submit">More Details</button></a>
                </div>
    
                
                <br>
                    <!-- <button onclick="searchServices()">Search</button> -->
                    <!-- <a href="/availablemajdoor"><button type="submit">Search</button></a> -->
                
                
            </div>
            
    
            <div class="section-title">
                <h3>Your Past Bookings</h3>
            </div>
    
            <div class="activity-services">
                <div class="service-card">
                    <img src="/images/past activity.jpg" alt="History Icon">
                    <!-- <h4>Carpenter</h4> -->
                    <button onclick="searchRecommendedService('Carpenter')">History</button>
                </div>           
            </div>
    
            <div class="section-title">
                <h3>Recommended Services For You</h3>
            </div>
    
            <div class="recommended-services">
                <% const uniqueSkills = Array.from(new Set(record.map(result => result.skills))).filter(Boolean); %>

<% uniqueSkills.forEach(skill => { %>
  <div class="service-card">
    <img src="/upload/default-img.jpg" alt="<%= skill %> Icon">
    <h4><%= skill %></h4>
    <a href="/similiarmajdoor/<%= skill %>"><button>Explore</button></a>
  </div>
<% }); %>
                <!-- <%record.forEach((result)=>{%>
                    <div class="service-card">
                        <img src="/upload/<%=result.img%>" alt="Carpenter Icon">
                        <h4><%=result.skills%></h4>
                        <a href="/similiarmajdoor/<%=result.skills%>"><button>Explore</button></a>
                    </div>

             <%   })%> -->
             <!-- <button onclick="searchRecommendedService('Carpenter')">Explore</button> -->
                
                
            </div>
    
            <div class="section-title">
                <h3>You need it, We've got it</h3>
            </div>
    
            <div class="recommended-services">
                <div class="service-card">
                    <img src="/images/carpenter_icon.png" alt="Carpenter Icon">
                    <h4>Carpenter</h4>
                    <button onclick="searchRecommendedService('Carpenter')">Explore</button>
                </div>
                <div class="service-card">
                    <img src="/images/plumber_icon.png" alt="Plumber Icon">
                    <h4>Plumber</h4>
                    <button onclick="searchRecommendedService('Plumber')">Explore</button>
                </div>
                <div class="service-card">
                    <img src="/images/painter_icon.png" alt="Painter Icon">
                    <h4>Painter</h4>
                    <button onclick="searchRecommendedService('Painter')">Explore</button>
                </div>
                <div class="service-card">
                    <img src="/images/gardener_icon.png" alt="Gardener Icon">
                    <h4>Gardener</h4>
                    <button onclick="searchRecommendedService('Gardener')">Explore</button>
                </div>
            </div>
    
    <!-- ////////////////////////////////////////////////////////// -->
            
            <div class="recommended-services">
                <div class="service-card">
                    <img src="/images/mason_icon.png" alt="Mason Icon">
                    <h4>Mason</h4>
                    <button onclick="searchRecommendedService('Mason')">Explore</button>
                </div>
                <div class="service-card">
                    <img src="/images/electrician_icon.jpg" alt="Electrician">
                    <h4>Electrician</h4>
                    <button onclick="searchRecommendedService('Electrician')">Explore</button>
                </div>
                <div class="service-card">
                    <img src="/images/mechanic_icon.png" alt="Mehanic Icon">
                    <h4>Mechanic</h4>
                    <button onclick="searchRecommendedService('Mechanic')">Explore</button>
                </div>
                <div class="service-card">
                    <img src="/images/worker_icon.jpg" alt="Worker Icon">
                    <h4>Labour</h4>
                    <button onclick="searchRecommendedService('Worker')">Explore</button>
                </div> 
            </div>
            
    
            <div id="results"></div>
           <br><br>
            <%-include('../partials/admin/footer.ejs')%>
        </div>
        
        <script src="https://kit.fontawesome.com/5fb47b5325.js" crossorigin="anonymous"></script>
        <script>
            
            function searchServices() {
                // Add logic to fetch and display search results
                // Update the 'results' div with worker profiles
                const resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = `
                    <div class="service-card">
                        <h2>Plumber Name</h2>
                        <p>Service: Plumbing</p>
                        <p>Location: City, Country</p>
                        <p>Available Time: 9:00 AM - 5:00 PM</p>
                        <button onclick="hireWorker()">Hire</button>
                    </div>
                    <!-- Add more worker profiles as needed -->
                `;
            }
    
            function hireWorker() {
                // Add logic to handle the hiring process
                alert('Worker hired successfully!');
            }
        </script>
</body>
</html>