<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="/css/availablem.css">
    <!-- //icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css"> -->
   <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery-js/1.4.0/css/lightgallery.min.css"> -->

</head>

<body>
    <header>
        <h1>MAJDOOR</h1>
        <div class="profile">
            <i class="fas fa-user-alt"></i>
            <i class="fa fa-sign-out" ></i>

        </div>

    </header>

    <div class="main">
        <div class="details">
            <h2>Labour's Details</h2>
            <div class="selected-labor" id="selectedLabor">
                <!-- Display selected labor details here -->
            </div>
            <a href="confirmation_page.html">
                <button class="hire-button">Hire</button>
            </a>
        </div>
    

    <div class="labors-list" id="laborsList">
        <h2>Available Labours</h2>

        <% record.forEach((result, key)=> { %>
            <div class="labor-card"
                onclick="showLaborDetails('<%=result.username%>', '<%= result.phone_no %>','<%=result.skills%>','<%=result.location%>','<%=result.image%>')">
                <img src="<%=result.image %>" onerror="this.src='/images/default profile.jpg'" alt="Labor <%= key + 1 %>">
                <!-- <h4>Labor <%= key + 1 %>
                </h4> -->
                <h3>
                    <%= result.username %>
                    <br>
                    <br>
                    <%=result.skills %>
                </h3>
            </div>
            <% }) %>
                <!-- <div class="labor-card" onclick="showLaborDetails('Labor 2', 'labor2.jpg', 4.0, ['Service C', 'Service D'], '$25/hour', 40, 10, '987-654-3210')">
                <img src="labor2.jpg" alt="Labor 2">
                <h4>Labor 2</h4>
            </div>
            <div class="labor-card" onclick="showLaborDetails('Labor 3', 'labor3.jpg', 3.0, ['Service A', 'Service D'], '$20/hour', 20, 13, '987-654-1210')">
                <img src="labor3.jpg" alt="Labor 3">
                <h4>Labor 3</h4>
            </div> -->
                <!-- Add more labor cards as needed -->
    </div>
    </div>

  
    <!-- ///Script/// -->
    
    <script src="https://kit.fontawesome.com/5fb47b5325.js" crossorigin="anonymous"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Show details of the first labor by default
            const firstLaborCard = document.querySelector('.labor-card');
            if (firstLaborCard) {
                const laborName = firstLaborCard.querySelector('h4').innerText;
                const laborImage = firstLaborCard.querySelector('img').src;
                showLaborDetails(laborName, laborImage, 4.5, ['Service A', 'Service B'], '$20/hour', 50, 5, '123-456-7890');
            }
        });

        function showLaborDetails(username, phone_no,skills,location, image) {
            const selectedLaborDiv = document.getElementById('selectedLabor');
            selectedLaborDiv.innerHTML = `
            <img src="${image}" onerror="this.src='/images/default profile.jpg'" alt="${username}'s Image" class="selected-labor-image">
                <div class="selected-labor-details">
                    <h3>Username: ${username}</h3> 
                    <p>Contact Number: ${phone_no}</p>
                    <p>Skills: ${skills}</p>
                    <p>Location: ${location}</p>
                </div>
                
            `;
            // Add gallery images dynamically (replace with actual image sources)
            const laborGalleryDiv = document.getElementById('laborGallery');
            laborGalleryDiv.innerHTML = `
                <h4>Gallery</h4>
                <img src="gallery1.jpg" alt="Gallery 1">
                <img src="gallery2.jpg" alt="Gallery 2">
                <!-- Add more gallery images as needed -->
            `;
        }

        function hireLabor() {
            // Add logic to handle hiring action
            alert('Hiring labor...');
        }

        function openUserProfile() {
            // Add logic to open the user profile page
            alert('Opening user profile...');
        }
    </script>
</body>

</html>